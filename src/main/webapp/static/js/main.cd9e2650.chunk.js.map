{"version":3,"sources":["constants/actionTypes.js","components/Header.js","components/App.js","middleware.js","reducers/common.js","store.js","reducers/auth.js","reducers/points.js","components/PointRow.js","components/PointsList.js","components/Home/MainView.js","components/ListErrors.js","components/Home/PointInput.js","components/Home/Graphic.js","components/Home/index.js","components/Login.js","components/Register.js","index.js","agent.js"],"names":["LOGIN","LoggedOutView","props","currentUser","className","to","LoggedInView","onClick","logout","Header","this","appName","onClickLogout","React","Component","connect","dispatch","type","payload","agent","Auth","App","token","window","localStorage","getItem","username","setToken","onLoad","nextProps","history","push","console","log","redirectTo","children","contextTypes","router","PropTypes","object","isRequired","state","common","points","redirect","onRedirect","defaultState","reducers","combineReducers","routing","routerReducer","auth","action","inProgress","errors","error","message","subtype","key","value","appLoaded","xc","rc","yc","point","undefined","points_r","current_r","r","middleware","applyMiddleware","store","next","v","then","res","JSON","parse","e","setItem","removeItem","setTimeout","Points","all","recalculated","createStore","PointRow","id","x","y","result","Button","delete","PointsList","useEffect","length","cellSpacing","width","map","onDelete","onDeleteAll","deleteAll","ListErrors","PointInput","changeX","ev","onChangeX","changeY","target","replace","isNaN","onError","onChangeY","changeR","onChangeR","submitForm","preventDefault","onSubmit","submitRef","createRef","Dropdown","as","ButtonGroup","onSelect","variant","Toggle","split","Menu","Item","href","eventKey","placeholder","onChange","ref","disabled","new","err","Graphic","addPointFromCanvas","bind","recalculatedPoints","drawGraphic","height","node","graphic","drawPoint","hit","odz","context","getContext","beginPath","arc","Math","round","PI","closePath","color","fillStyle","fill","stroke","br","getBoundingClientRect","left","top","event","clientX","clientY","xCalculated","yCalculated","onCanvasClick","clearRect","rect","strokeStyle","moveTo","lineTo","font","fillText","Home","prevProps","prevState","snapshot","Login","changeUsername","onChangeUsername","changePassword","onChangePassword","password","login","Register","register","createHistory","ReactDOM","render","path","component","document","getElementById","superagent","superagentPromise","_superagent","global","Promise","API_ROOT","responseBody","body","tokenPlugin","req","set","requests","url","get","use","catch","post","del","_token"],"mappings":"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","file":"static/js/main.cd9e2650.chunk.js","sourcesContent":["export const APP_LOAD = 'APP_LOAD';\n\nexport const LOGIN = 'LOGIN';\nexport const REGISTER = 'REGISTER';\n\nexport const ASYNC_START = 'ASYNC_START';\nexport const UPDATE_FIELD_AUTH = 'UPDATE_FIELD_AUTH';\nexport const REDIRECT = 'REDIRECT';\nexport const LOGOUT = 'LOGOUT';\n\nexport const UPDATE_FIELD_POINT = 'UPDATE_FIELD_POINT';\nexport const POINTS_LOADED = 'POINTS_LOADED';\nexport const POINTS_RECALCULATED = 'POINTS_RECALCULATED';\nexport const POINT_ADDED = 'POINT_ADDED';\nexport const POINT_DELETE = 'POINT_DELETE';\nexport const POINT_DELETE_ALL = 'POINT_DELETE_ALL';\n\nexport const VALIDATION_ERROR = 'VALIDATION_ERROR';\n","import { Link } from 'react-router-dom';\nimport React from 'react';\nimport agent from \"../agent\";\nimport {connect} from \"react-redux\";\nimport {LOGOUT} from \"../constants/actionTypes\";\n\nconst LoggedOutView = props => {\n    if (!props.currentUser) {\n        return (\n            <ul className=\"nav navbar-nav pull-xs-right\">\n\n                <li className=\"nav-item\">\n                    <Link to=\"login\" className=\"nav-link\">\n                        Sign in\n                    </Link>\n                </li>\n\n                <li className=\"nav-item\">\n                    <Link to=\"register\" className=\"nav-link\">\n                        Sign up\n                    </Link>\n                </li>\n\n            </ul>\n        );\n    }\n    return null;\n};\n\nconst LoggedInView = props => {\n\n    if (props.currentUser) {\n        return (\n            <ul className=\"nav navbar-nav pull-xs-right\">\n\n                <li className=\"nav-item\">\n                        {props.currentUser}\n                </li>\n\n                <li className=\"nav-item\">\n                    <Link to=\"/\"  onClick={props.logout} className=\"nav-link\">\n                        LogOut\n                    </Link>\n                </li>\n\n            </ul>\n        );\n    }\n\n    return null;\n};\n\nconst mapDispatchToProps = dispatch => ({\n    onClickLogout: () => {\n        dispatch({ type: LOGOUT, payload: agent.Auth.logout() })\n    },\n});\n\nclass Header extends React.Component {\n\n    render() {\n        return (\n            <nav className=\"navbar navbar-light \">\n                <div className=\"container col-sm-5\">\n\n                    <Link to=\"/\" className=\"navbar-brand\">\n                        {this.props.appName}\n                    </Link>\n                    <div>\n                        Олейник Матвей Павлович P3213\n                    </div>\n\n                    <LoggedOutView currentUser={this.props.currentUser} />\n\n                    <LoggedInView currentUser={this.props.currentUser} logout={this.props.onClickLogout}/>\n                </div>\n            </nav>\n        );\n    }\n}\n\nexport default connect(() => ({}), mapDispatchToProps)(Header);\n","import Header from './Header';\nimport React from 'react';\nimport agent from '../agent';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {history} from \"../index\";\nimport {APP_LOAD, REDIRECT} from \"../constants/actionTypes\";\n\nconst mapStateToProps = state => ({\n    appName: state.common.appName,\n    currentUser: state.common.currentUser,\n    points: state.points.points,\n    redirectTo: state.common.redirect\n});\n\nconst mapDispatchToProps = dispatch => ({\n    onLoad: (username, token) =>\n        dispatch({ type: APP_LOAD, username, token }),\n    onRedirect: () =>\n        dispatch({ type: REDIRECT })\n});\n\nclass App extends React.Component {\n    componentWillMount() {\n        const token = window.localStorage.getItem('token');\n        const username = window.localStorage.getItem('username');\n        if (token) {\n            agent.setToken(token);\n        }\n\n        this.props.onLoad(username, token);\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (this.props.currentUser)\n            history.push('/');\n        console.log(this.props);\n        if (this.props.redirectTo)\n            history.push(this.props.redirectTo);\n    }\n\n    render() {\n        return (\n            <div>\n                <Header\n                    currentUser={this.props.currentUser}\n                    appName={this.props.appName} />\n\n                {this.props.children}\n\n            </div>\n        );\n    }\n}\n\nApp.contextTypes = {\n    router: PropTypes.object.isRequired\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import agent from './agent';\nimport {\n    POINT_ADDED,\n    POINTS_LOADED,\n    LOGIN,\n    LOGOUT,\n    ASYNC_START, POINTS_RECALCULATED, POINT_DELETE, POINT_DELETE_ALL\n} from './constants/actionTypes';\n\nconst promiseMiddleware = store => next => action => {\n    if (isPromise(action.payload)) {\n        store.dispatch({ type: ASYNC_START, subtype: action.type });\n        action.payload.then(\n            res => {\n                action.payload = res;\n                store.dispatch(action);\n            },\n            error => {\n                action.error = true;\n                try {\n                    action.payload = JSON.parse(error.message);\n                } catch (e) {\n                    action.payload = error;\n                }\n                store.dispatch(action);\n            }\n        );\n\n        return;\n    }\n\n    next(action);\n};\n\nfunction isPromise(v) {\n    return v && typeof v.then === 'function';\n}\n\nconst pointsMiddleware = store => next => action => {\n\n    switch (action.type) {\n        case POINTS_LOADED:\n            if (action.error) {\n                window.localStorage.removeItem('token');\n                window.localStorage.removeItem('username');\n                agent.setToken(null);\n            }\n            break;\n        case POINT_DELETE:\n            setTimeout(() => {\n                if (!action.error) {\n                    store.dispatch({ type: POINTS_LOADED, payload: agent.Points.all() });\n                    store.dispatch({ type: POINTS_RECALCULATED, payload: agent.Points.recalculated(action.r), r: action.r});\n                }\n            }, 100);\n            break;\n        case POINT_DELETE_ALL:\n            setTimeout(() => {\n                if (!action.error) {\n                    store.dispatch({ type: POINTS_LOADED, payload: agent.Points.all() });\n                    store.dispatch({ type: POINTS_RECALCULATED, payload: agent.Points.recalculated(action.r), r: action.r});\n                }\n            }, 100);\n            break;\n        case POINT_ADDED:\n            if (!action.error) {\n                store.dispatch({ type: POINTS_LOADED, payload: agent.Points.all() });\n                store.dispatch({ type: POINTS_RECALCULATED, payload: agent.Points.recalculated(action.r), r: action.r});\n            }\n            break;\n        default:\n            break;\n    }\n\n    next(action);\n};\n\n\nconst authMiddleware = store => next => action => {\n\n    switch (action.type) {\n        case LOGIN:\n            if (!action.error) {\n                window.localStorage.setItem('token', action.payload.message);\n                window.localStorage.setItem('username', action.username);\n                agent.setToken(action.payload.message);\n            }\n            break;\n        case LOGOUT:\n            window.localStorage.removeItem('token');\n            window.localStorage.removeItem('username');\n            agent.setToken(null);\n            break;\n        default:\n            break;\n    }\n\n    next(action);\n};\n\n\nexport {\n    authMiddleware,\n    pointsMiddleware,\n    promiseMiddleware\n};\n","import {\n    LOGIN,\n    REGISTER,\n    LOGOUT,\n    REDIRECT,\n    APP_LOAD, VALIDATION_ERROR\n} from '../constants/actionTypes';\n\nconst defaultState = {\n    appName: 'Lab4-Web',\n    token: null\n};\n\nexport default (state = defaultState, action) => {\n    switch (action.type) {\n        case APP_LOAD:\n            return {\n                ...state,\n                token: action.token || null,\n                appLoaded: true,\n                currentUser: action.username || null,\n            };\n        case REDIRECT:\n            return { ...state, redirect: null };\n        case REGISTER:\n            return {\n                ...state,\n                redirect: action.error ? '/register' : '/login',\n            };\n        case LOGOUT:\n            return { appName: state.appName };\n        case LOGIN:\n            return {\n                ...state,\n                redirect: action.error ? null : '/',\n                currentUser: action.error ? null : action.username\n            };\n        case VALIDATION_ERROR:\n            return {\n                ...state,\n                errors: action.error,\n            };\n        default:\n            return state;\n    }\n};\n","import { applyMiddleware, createStore, combineReducers } from 'redux';\nimport {authMiddleware, pointsMiddleware, promiseMiddleware} from './middleware';\nimport auth from './reducers/auth';\nimport common from './reducers/common';\nimport points from './reducers/points';\nimport { routerReducer } from 'react-router-redux';\n\nconst reducers = combineReducers({\n    routing: routerReducer,\n    auth,\n    common,\n    points,\n});\n\nconst middleware = applyMiddleware(promiseMiddleware, authMiddleware, pointsMiddleware);\n\nconst store = createStore(reducers, middleware);\n\n\nexport default store;\n","import {\n    LOGIN,\n    REGISTER,\n    ASYNC_START,\n    UPDATE_FIELD_AUTH\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n    switch (action.type) {\n        case LOGIN:\n        case REGISTER:\n            return {\n                ...state,\n                inProgress: false,\n                errors: action.error ? action.payload.message : null,\n            };\n        case ASYNC_START:\n            if (action.subtype === LOGIN || action.subtype === REGISTER) {\n                return { ...state, inProgress: true };\n            }\n            return state;\n        case UPDATE_FIELD_AUTH:\n            return { ...state, [action.key]: action.value };\n        default:\n            return state;\n    }\n};\n","import {\n    LOGOUT,\n    POINT_ADDED, POINT_DELETE,\n    POINTS_LOADED,\n    POINTS_RECALCULATED,\n    UPDATE_FIELD_POINT\n} from '../constants/actionTypes';\n\nexport default (state = {xc: -4, rc: 1, yc: 0}, action) => {\n    switch (action.type) {\n        case UPDATE_FIELD_POINT:\n            return { ...state, [action.key]: action.value };\n        case POINT_ADDED:\n            return {\n                ...state,\n                point: action.payload\n            };\n        case POINT_DELETE:\n            return {\n                ...state,\n            };\n        case LOGOUT:\n            return { ...state, points: undefined};\n        case POINTS_LOADED:\n            return {\n                ...state,\n                points: action.payload,\n            };\n        case POINTS_RECALCULATED:\n            return {\n                ...state,\n                points_r: action.payload,\n                current_r: action.r\n            };\n        default:\n            return state;\n    }\n};\n\n","import React from 'react';\nimport agent from \"../agent\";\nimport Button from \"react-bootstrap/Button\";\n\nconst PointRow = props => {\n    const point = props.point;\n\n    return (\n        <tr>\n            <td>{point.id}</td>\n            <td>{point.x}</td>\n            <td>{point.y}</td>\n            <td>{point.r}</td>\n            <td>{point.result ? 'true' : 'false'}</td>\n            <td>\n                <Button onClick={() => props.delete(agent.Points.delete(point.id), props.r)}>DEL</Button>\n            </td>\n        </tr>\n    );\n};\n\nexport default PointRow;\n","import React, {useEffect} from 'react';\nimport PointRow from \"./PointRow\";\nimport \"./PointList.css\";\n\nconst PointsList = props => {\n\n    useEffect(() => {\n    });\n\n    if (props.currentUser) {\n        let className = \"mylist container d-flex justify-content-center col-sm-4\";\n        if (!props.points) {\n            return (\n                <div className={className}>Loading...</div>\n            );\n        }\n\n        if (props.points.length === 0) {\n            return (\n                <div className={className}>\n                    No points are here... yet.\n                </div>\n            );\n        }\n\n        return (\n            <div className={className}>\n                <table className=\"table table-striped table-bordered table-sm\" cellSpacing=\"0\"\n                       width=\"100%\">\n                    <thead>\n                    <tr>\n                        <th className=\"th-sm\">Id</th>\n                        <th className=\"th-sm\">X</th>\n                        <th className=\"th-sm\">Y</th>\n                        <th className=\"th-sm\">R</th>\n                        <th className=\"th-sm\">HIT</th>\n                        <th className=\"th-sm\">DELETE</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {\n                        props.points.map(point => {\n                            return (\n                                <PointRow point={point} key={point.id} delete={props.delete} r={props.r}/>\n                            );\n                        })\n                    }\n                    </tbody>\n                </table>\n            </div>\n        );\n    } else\n        return null;\n};\n\nexport default PointsList;\n","import React, {useEffect} from 'react';\nimport { connect } from 'react-redux';\nimport PointsList from \"../PointsList\";\nimport {POINT_DELETE, POINT_DELETE_ALL, POINTS_LOADED} from \"../../constants/actionTypes\";\nimport agent from \"../../agent\";\nimport './MainView.css'\nimport Button from \"react-bootstrap/Button\";\n\nconst mapStateToProps = state => ({\n    points: state.points.points,\n    currentUser: state.common.currentUser,\n    current_r: state.points.current_r\n});\n\nconst mapDispatchToProps = dispatch => ({\n    onLoad: (payload) =>\n        dispatch({ type: POINTS_LOADED, payload }),\n    onDelete: (payload, r) =>\n        dispatch({ type: POINT_DELETE, payload, r}),\n    onDeleteAll: (payload, r) =>\n        dispatch({ type: POINT_DELETE_ALL, payload, r})\n});\n\nconst MainView = props => {\n\n    console.log(props);\n\n    useEffect(() => {\n        if (props.points === undefined) {\n            props.onLoad(agent.Points.all())\n        }\n    });\n    let className = \"container d-flex justify-content-center col-sm-2\";\n    return (\n        <div>\n            <Button id=\"deleteall\" className={className} onClick={() => props.onDeleteAll(agent.Points.deleteAll(), props.current_r)}>DELETE ALL</Button>\n            <PointsList\n                points={props.points} currentUser={props.currentUser} delete={props.onDelete} r={props.current_r}/>\n        </div>\n    );\n\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MainView);\n","import React from 'react';\n\nclass ListErrors extends React.Component {\n    render() {\n        const errors = this.props.errors;\n        let className = \"container d-flex justify-content-center\";\n        if (errors) {\n            return (\n                <div className={className}>\n                    <ul className=\"error-messages\">\n                        <li key={errors}>\n                            {errors}\n                        </li>\n                    </ul>\n                </div>\n            );\n        } else {\n            return null;\n        }\n    }\n}\n\nexport default ListErrors;\n","import React from 'react';\nimport ListErrors from '../ListErrors';\nimport agent from '../../agent';\nimport { connect } from 'react-redux';\nimport {POINT_ADDED, UPDATE_FIELD_POINT, VALIDATION_ERROR} from \"../../constants/actionTypes\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport {Button, ButtonGroup} from \"react-bootstrap\";\n\nconst mapStateToProps = state => ({\n    ...state.points,\n    errors: state.common.errors,\n});\n\n\nconst mapDispatchToProps = dispatch => ({\n    onChangeX: value =>\n        dispatch({ type: UPDATE_FIELD_POINT, key: 'xc', value }),\n    onChangeY: value =>\n        dispatch({ type: UPDATE_FIELD_POINT, key: 'yc', value }),\n    onChangeR: value =>\n        dispatch({ type: UPDATE_FIELD_POINT, key: 'rc', value }),\n    onSubmit: (x, y, r) => {\n        dispatch({ type: POINT_ADDED, payload: agent.Points.new(x, y, r), r})\n    },\n    onError: (err) => {\n        dispatch({ type: VALIDATION_ERROR, error: err });\n    }\n});\n\nclass PointInput extends React.Component {\n    constructor(props) {\n        super(props);\n        this.submitRef = React.createRef();\n    }\n\n    changeX = ev => this.props.onChangeX(ev);\n\n    changeY = ev => {\n        const str = ev.target.value;\n        const value = str.replace(',', '.');\n        if (value.length === 0 || isNaN(value) || +value > 3.0 || + value < -3.0) {\n            this.props.onError('Значение должно быть в пределах от -3.0 до 3.0');\n        } else {\n            this.props.onError(null);\n        }\n\n        this.props.onChangeY(ev.target.value);\n    };\n\n    changeR = ev => this.props.onChangeR(ev);\n\n    submitForm = (x, y, r) => ev => {\n        ev.preventDefault();\n        this.props.onSubmit(x, y, r);\n    };\n\n    render() {\n        const x = this.props.xc;\n        const y = this.props.yc;\n        const r = this.props.rc;\n        let className = \"container d-flex justify-content-center\";\n\n        return (\n            <div >\n                <ListErrors errors={this.props.errors} />\n                <div className=\"container page\">\n                    <div className=\"row\">\n\n                        <div className={className} >\n\n                            <form onSubmit={this.submitForm(x, y, r)}>\n                                <fieldset>\n\n                                    <fieldset className=\"form-group\">\n                                        <label>X:</label>\n                                            <Dropdown as={ButtonGroup} onSelect={this.changeX}>\n                                                <Button variant=\"success\">{x}</Button>\n\n                                                <Dropdown.Toggle split variant=\"success\" id=\"dropdown-split-basic\" />\n\n                                                <Dropdown.Menu>\n                                                    <Dropdown.Item href=\"#/action-1\" eventKey={-4}>-4</Dropdown.Item>\n                                                    <Dropdown.Item href=\"#/action-2\" eventKey={-3}>-3</Dropdown.Item>\n                                                    <Dropdown.Item href=\"#/action-3\" eventKey={-2}>-2</Dropdown.Item>\n                                                    <Dropdown.Item href=\"#/action-4\" eventKey={-1}>-1</Dropdown.Item>\n                                                    <Dropdown.Item href=\"#/action-5\" eventKey={0}>0</Dropdown.Item>\n                                                    <Dropdown.Item href=\"#/action-6\" eventKey={1}>1</Dropdown.Item>\n                                                    <Dropdown.Item href=\"#/action-7\" eventKey={2}>2</Dropdown.Item>\n                                                    <Dropdown.Item href=\"#/action-8\" eventKey={3}>3</Dropdown.Item>\n                                                    <Dropdown.Item href=\"#/action-9\" eventKey={4}>4</Dropdown.Item>\n                                                </Dropdown.Menu>\n                                            </Dropdown>\n                                    </fieldset>\n\n                                    <fieldset className=\"form-group\">\n                                        <label>Y:</label>\n                                        <input\n                                            className=\"form-control form-control-lg\"\n                                            type=\"text\"\n                                            placeholder=\"Y\"\n                                            value={y}\n                                            onChange={this.changeY} />\n                                    </fieldset>\n\n                                    <fieldset className=\"form-group\">\n                                        <label>R:</label>\n                                        <Dropdown as={ButtonGroup} onSelect={this.changeR}>\n                                            <Button variant=\"success\">{r}</Button>\n\n                                            <Dropdown.Toggle split variant=\"success\" id=\"dropdown-split-basic\" />\n\n                                            <Dropdown.Menu>\n                                                <Dropdown.Item href=\"#/action-3\" eventKey={1}>1</Dropdown.Item>\n                                                <Dropdown.Item href=\"#/action-3\" eventKey={1.5}>1.5</Dropdown.Item>\n                                                <Dropdown.Item href=\"#/action-3\" eventKey={2}>2</Dropdown.Item>\n                                                <Dropdown.Item href=\"#/action-3\" eventKey={2.5}>2.5</Dropdown.Item>\n                                                <Dropdown.Item href=\"#/action-3\" eventKey={3}>3</Dropdown.Item>\n                                                <Dropdown.Item href=\"#/action-3\" eventKey={3.5}>3.5</Dropdown.Item>\n                                                <Dropdown.Item href=\"#/action-3\" eventKey={4}>4</Dropdown.Item>\n                                                <Dropdown.Item href=\"#/action-3\" eventKey={4.5}>4.5</Dropdown.Item>\n                                                <Dropdown.Item href=\"#/action-3\" eventKey={5}>5</Dropdown.Item>\n                                            </Dropdown.Menu>\n                                        </Dropdown>\n                                    </fieldset>\n\n                                    <button ref={this.submitRef}\n                                            disabled={this.props.errors}\n                                        className=\"btn btn-lg btn-primary pull-xs-right\"\n                                        type=\"submit\">\n                                        CHECK\n                                    </button>\n\n                                </fieldset>\n                            </form>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PointInput);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport agent from \"../../agent\";\nimport {POINT_ADDED, POINTS_RECALCULATED} from \"../../constants/actionTypes\";\n\nconst mapStateToProps = state => ({\n    points: state.points.points_r,\n    rc: state.points.rc,\n    current_r: state.points.current_r\n});\n\nconst mapDispatchToProps = dispatch => ({\n    recalculatedPoints: (r) => {\n        dispatch({ type: POINTS_RECALCULATED, payload: agent.Points.recalculated(r), r})\n    },\n    onCanvasClick: (x, y, r) => {\n        dispatch({ type: POINT_ADDED, payload: agent.Points.new(x, y, r), r})\n    }\n});\n\nclass Graphic extends React.Component {\n\n    addPointFromCanvas = this.addPointFromCanvas.bind(this);\n\n\n    componentWillMount() {\n        this.props.recalculatedPoints(1);\n    }\n\n    componentDidMount() {\n        this.drawGraphic(1);\n    }\n\n    render() {\n        let className = \"container d-flex justify-content-center\";\n        return (\n            <div className={className}>\n                <canvas width=\"300\" height=\"300\" ref={node => this.graphic = node} onClick={this.addPointFromCanvas}>\n                </canvas>\n            </div>\n        );\n    }\n\n    componentWillReceiveProps(nextProps){\n        if (nextProps.rc) {\n            this.drawGraphic(nextProps.rc);\n            if (!nextProps.current_r || nextProps.current_r !== nextProps.rc)\n                this.props.recalculatedPoints(nextProps.rc);\n        }\n        if (nextProps.points) {\n            nextProps.points.map(point => this.drawPoint(point));\n        }\n    }\n\n    drawPoint(point) {\n\n        let x = point.x, y = point.y, hit = point.result, odz = point.odz;\n\n        // console.log('Marking point ' + x + ', ' + y + ', ' + hit);\n\n        let context = this.graphic.getContext(\"2d\");\n\n        context.beginPath();\n        context.arc(Math.round(150 + ((x / 5) * 130)) , Math.round(150 - ((y / 5) * 130)), 3, 0, 2*Math.PI, false);\n        context.closePath();\n\n        let color = odz ? 'red': 'orange';\n\n        if (hit) {\n            color = odz ? 'lime' : 'blue';\n        }\n\n        context.fillStyle = color;\n        context.fill();\n        context.stroke();\n\n    }\n\n    addPointFromCanvas(ev) {\n        console.log(`Click on ${this}`);\n\n        let br = this.graphic.getBoundingClientRect();\n        let left = br.left;\n        let top = br.top;\n\n        let event = ev;\n        let x = event.clientX - left;\n        let y = event.clientY - top;\n        console.log(`x=${x} y=${y}`);\n\n        let xCalculated = (x - 150) / 130 * 5;\n        let yCalculated = (-y + 150) / 130 * 5;\n\n        this.props.onCanvasClick(xCalculated, yCalculated, this.props.rc || 1);\n\n    }\n\n    drawGraphic(r) {\n        console.log(\"Drawing graphic with R=\"+r);\n        let context = this.graphic.getContext(\"2d\");\n        context.clearRect(0, 0, this.graphic.width, this.graphic.height);\n\n        // rectangle\n        context.beginPath();\n        context.rect(150-r*26, 150-r*26, 130*(r/5), (r/5)*130);\n        context.closePath();\n        context.strokeStyle = \"#2f9aff\";\n        context.fillStyle = \"#2f9aff\";\n        context.fill();\n        context.stroke();\n\n        // sector\n        context.beginPath();\n        context.moveTo(150, 150);\n        context.arc(150, 150, 65*(r/5), Math.PI/2, Math.PI, false);\n        context.closePath();\n        context.strokeStyle = \"#2f9aff\";\n        context.fillStyle = \"#2f9aff\";\n        context.fill();\n        context.stroke();\n\n        // triangle\n        context.beginPath();\n        context.moveTo(150, 150);\n        context.lineTo(150+(130*(r/5)), 150);\n        context.lineTo(150, 150+r*13);\n        context.lineTo(150, 150);\n        context.closePath();\n        context.strokeStyle = \"#2f9aff\";\n        context.fillStyle = \"#2f9aff\";\n        context.fill();\n        context.stroke();\n\n        // axes\n        context.beginPath();\n        context.font = \"10px Verdana\";\n        context.strokeStyle = \"black\";\n        context.fillStyle = \"black\";\n        context.moveTo(150, 0);\n        context.lineTo(150, 300);\n        context.moveTo(150, 0);\n        context.lineTo(145, 15);\n        context.moveTo(150, 0);\n        context.lineTo(155, 15);\n        context.fillText(\"Y\", 160, 10);\n        context.moveTo(0, 150);\n        context.lineTo(300, 150);\n        context.moveTo(300, 150);\n        context.lineTo(285, 145);\n        context.moveTo(300, 150);\n        context.lineTo(285, 155);\n        context.fillText(\"X\", 290, 130);\n\n        // Y parts\n        context.moveTo(145, 20);\n        context.lineTo(155, 20);\n        context.fillText(' 5', 160, 20);\n        context.moveTo(145, 46);\n        context.lineTo(155, 46);\n        context.fillText(' 4', 160, 46);\n        context.moveTo(145, 72);\n        context.lineTo(155, 72);\n        context.fillText(' 3', 160, 72);\n        context.moveTo(145, 98);\n        context.lineTo(155, 98);\n        context.fillText(' 2', 160, 98);\n        context.moveTo(145, 124);\n        context.lineTo(155, 124);\n        context.fillText(' 1', 160, 124);\n\n        context.moveTo(145, 176);\n        context.lineTo(155, 176);\n        context.fillText('-1', 160, 176);\n        context.moveTo(145, 202);\n        context.lineTo(155, 202);\n        context.fillText('-2', 160, 202);\n        context.moveTo(145, 228);\n        context.lineTo(155, 228);\n        context.fillText('-3', 160, 228);\n        context.moveTo(145, 254);\n        context.lineTo(155, 254);\n        context.fillText('-4', 160, 254);\n        context.moveTo(145, 280);\n        context.lineTo(155, 280);\n        context.fillText('-5', 160, 280);\n\n        // X parts\n        context.moveTo(20, 145);\n        context.lineTo(20, 155);\n        context.fillText('-5', 13, 140);\n        context.moveTo(46, 145);\n        context.lineTo(46, 155);\n        context.fillText('-4', 39, 140);\n        context.moveTo(72, 145);\n        context.lineTo(72, 155);\n        context.fillText('-3', 65, 140);\n        context.moveTo(98, 145);\n        context.lineTo(98, 155);\n        context.fillText('-2', 91, 140);\n        context.moveTo(124, 145);\n        context.lineTo(124, 155);\n        context.fillText('-1', 117, 140);\n\n        context.moveTo(176, 145);\n        context.lineTo(176, 155);\n        context.fillText(' 1', 169, 140);\n        context.moveTo(202, 145);\n        context.lineTo(202, 155);\n        context.fillText(' 2', 195, 140);\n        context.moveTo(228, 145);\n        context.lineTo(228, 155);\n        context.fillText(' 3', 221, 140);\n        context.moveTo(254, 145);\n        context.lineTo(254, 155);\n        context.fillText(' 4', 247, 140);\n        context.moveTo(280, 145);\n        context.lineTo(280, 155);\n        context.fillText(' 5', 273, 140);\n\n        context.closePath();\n        context.strokeStyle = \"black\";\n        context.fillStyle = \"black\";\n        context.stroke();\n\n    }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Graphic);\n","import MainView from './MainView';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport PointInput from \"./PointInput\";\nimport Graphic from \"./Graphic\";\nimport {history} from \"../../index\";\n\nconst mapStateToProps = state => ({\n    appName: state.common.appName,\n    currentUser: state.common.currentUser,\n});\n\n\nclass Home extends React.Component {\n\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.props.currentUser) {\n            history.push('/');\n        }\n    }\n\n    render() {\n        if (this.props.currentUser) {\n            return (\n                <div className=\"home-page\">\n\n                    <Graphic/>\n                    <PointInput/>\n\n                    <div className=\"container page\">\n                        <MainView/>\n                    </div>\n\n                </div>\n            );\n        } else\n            return null;\n    }\n}\n\nexport default connect(mapStateToProps)(Home);\n","import { Link } from 'react-router-dom';\nimport ListErrors from './ListErrors';\nimport React from 'react';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport {LOGIN, UPDATE_FIELD_AUTH} from \"../constants/actionTypes\";\n\nconst mapStateToProps = state => ({\n    ...state.auth,\n    currentUser: state.common.currentUser,\n});\n\nconst mapDispatchToProps = dispatch => ({\n    onChangeUsername: value =>\n        dispatch({ type: UPDATE_FIELD_AUTH, key: 'username', value }),\n    onChangePassword: value =>\n        dispatch({ type: UPDATE_FIELD_AUTH, key: 'password', value }),\n    onSubmit: (username, password) =>\n        dispatch({ type: LOGIN, payload: agent.Auth.login(username, password), username })\n});\n\nclass Login extends React.Component {\n\n    changeUsername = ev => this.props.onChangeUsername(ev.target.value);\n\n    changePassword = ev => this.props.onChangePassword(ev.target.value);\n\n    submitForm = (username, password) => ev => {\n        ev.preventDefault();\n        this.props.onSubmit(username, password);\n    };\n\n    render() {\n        if (this.props.currentUser)\n            return null;\n        const username = this.props.username;\n        const password = this.props.password;\n        return (\n            <div className=\"auth-page\">\n                <div className=\"container page\">\n                    <div className=\"row\">\n\n                        <div className=\"col-md-6 offset-md-3 col-xs-12\">\n                            <h1 className=\"text-xs-center\">Sign In</h1>\n                            <p className=\"text-xs-center\">\n                                <Link to=\"register\">\n                                    Need an account?\n                                </Link>\n                            </p>\n\n                            <ListErrors errors={this.props.errors} />\n\n                            <form onSubmit={this.submitForm(username, password)}>\n                                <fieldset>\n\n                                    <fieldset className=\"form-group\">\n                                        <input\n                                            className=\"form-control form-control-lg\"\n                                            type=\"email\"\n                                            placeholder=\"Email\"\n                                            value={username}\n                                            onChange={this.changeUsername} />\n                                    </fieldset>\n\n                                    <fieldset className=\"form-group\">\n                                        <input\n                                            className=\"form-control form-control-lg\"\n                                            type=\"password\"\n                                            placeholder=\"Password\"\n                                            value={password}\n                                            onChange={this.changePassword} />\n                                    </fieldset>\n\n                                    <button\n                                        className=\"btn btn-lg btn-primary pull-xs-right\"\n                                        type=\"submit\"\n                                        disabled={this.props.inProgress}>\n                                        Sign in\n                                    </button>\n\n                                </fieldset>\n                            </form>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import { Link } from 'react-router-dom';\nimport ListErrors from './ListErrors';\nimport React from 'react';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport {REGISTER, UPDATE_FIELD_AUTH} from \"../constants/actionTypes\";\n\nconst mapStateToProps = state => ({\n    currentUser: state.common.currentUser,\n    ...state.auth,\n});\n\nconst mapDispatchToProps = dispatch => ({\n    onChangePassword: value =>\n        dispatch({ type: UPDATE_FIELD_AUTH, key: 'password', value }),\n    onChangeUsername: value =>\n        dispatch({ type: UPDATE_FIELD_AUTH, key: 'username', value }),\n    onSubmit: (username, password) => {\n        const payload = agent.Auth.register(username, password);\n        dispatch({ type: REGISTER, payload })\n    }\n});\n\nclass Register extends React.Component {\n\n    changePassword = ev => this.props.onChangePassword(ev.target.value);\n\n    changeUsername = ev => this.props.onChangeUsername(ev.target.value);\n\n    submitForm = (username, password) => ev => {\n        ev.preventDefault();\n        this.props.onSubmit(username, password);\n    };\n\n    render() {\n        if (this.props.currentUser)\n            return null;\n\n        const password = this.props.password;\n        const username = this.props.username;\n\n        return (\n            <div className=\"auth-page\">\n                <div className=\"container page\">\n                    <div className=\"row\">\n\n                        <div className=\"col-md-6 offset-md-3 col-xs-12\">\n                            <h1 className=\"text-xs-center\">Sign Up</h1>\n                            <p className=\"text-xs-center\">\n                                <Link to=\"login\">\n                                    Have an account?\n                                </Link>\n                            </p>\n\n                            <ListErrors errors={this.props.errors} />\n\n                            <form onSubmit={this.submitForm(username, password)}>\n                                <fieldset>\n\n                                    <fieldset className=\"form-group\">\n                                        <input\n                                            className=\"form-control form-control-lg\"\n                                            type=\"email\"\n                                            placeholder=\"Email\"\n                                            value={this.props.username}\n                                            onChange={this.changeUsername} />\n                                    </fieldset>\n\n                                    <fieldset className=\"form-group\">\n                                        <input\n                                            className=\"form-control form-control-lg\"\n                                            type=\"password\"\n                                            placeholder=\"Password\"\n                                            value={this.props.password}\n                                            onChange={this.changePassword} />\n                                    </fieldset>\n\n                                    <button\n                                        className=\"btn btn-lg btn-primary pull-xs-right\"\n                                        type=\"submit\"\n                                        disabled={this.props.inProgress}>\n                                        Sign up\n                                    </button>\n\n                                </fieldset>\n                            </form>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);\n","import App from './components/App';\nimport { Provider } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport React from 'react';\nimport store from \"./store\";\nimport Home from './components/Home';\nimport Login from './components/Login';\nimport Register from \"./components/Register\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport createHistory from 'history/createBrowserHistory'\n\nexport const history = createHistory();\n\nReactDOM.render((\n    <Provider store={store}>\n        <Router history={history}>\n            <Route path=\"/\" component={App}/>\n            <Route path=\"/\" component={Home}/>\n            <Route path=\"/login\" component={Login}/>\n            <Route path=\"/register\" component={Register}/>\n        </Router>\n    </Provider>\n), document.getElementById('root'));\n","import superagentPromise from 'superagent-promise';\nimport _superagent from 'superagent';\n\nconst superagent = superagentPromise(_superagent, global.Promise);\n\nconst API_ROOT = 'http://localhost:8080/api';\n\nconst responseBody = res => res.body;\n\nlet token = null;\nconst tokenPlugin = req => {\n    if (token) {\n        req.set('Authorization', `Basic ${token}`);\n    }\n};\n\nconst requests = {\n    get: url =>\n        superagent.get(`${API_ROOT}${url}`).use(tokenPlugin).then(responseBody).catch(err => console.log(err)),\n    post: (url, body) =>\n        superagent.post(`${API_ROOT}${url}`, body).use(tokenPlugin).then(responseBody),\n    delete: (url) =>\n        superagent.del(`${API_ROOT}${url}`).use(tokenPlugin).then(responseBody).catch(err => console.log(err)),\n};\n\nconst Points = {\n    all: () =>\n        requests.get('/points'),\n    recalculated: (r) =>\n        requests.get(`/points/recalculate?r=${r}`),\n    new: (x, y, r) =>\n        requests.post('/points', {x: x, y: y, r: r}),\n    delete: (id) =>\n        requests.delete(`/points?id=${id}`),\n    deleteAll: () => {\n        requests.delete('/points/deleteall');\n    }\n};\n\nconst Auth = {\n    login: (username, password) =>\n        requests.post('/users/login', { username: username, password: password }),\n    register: (username, password) =>\n        requests.post('/users/register', { username: username, password: password } ),\n    logout: () =>\n        requests.post('/users/logout'),\n};\n\nexport default {\n    Points,\n    Auth,\n    setToken: _token => { token = _token; }\n};\n"],"sourceRoot":""}